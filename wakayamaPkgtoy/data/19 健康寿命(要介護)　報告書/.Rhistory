par(mfrow=c(1,2))
dotchart(main="平均寿命(2010年, 男)",jc.m("LE.10"),cex = 0.7,
lcolor = "gray90", pch=19, col=aa, pt.cex=1.5)
dotchart(main="平均寿命(2015年, 男)",jc.m("LE.15"),cex = 0.7,
lcolor = "gray90", pch=19, col=aa, pt.cex=1.5)
par(mfrow=c(1,1))
dev.off()
pdf("aaa.pdf", family="Japan1")
par(mfrow=c(1,2))
dotchart(main="平均寿命(2010年, 男)",jc.m("LE.10"),cex = 0.7,
lcolor = "gray90", pch=19, col=aa, pt.cex=1.5)
dotchart(main="平均寿命(2015年, 男)",jc.m("LE.15"),cex = 0.7,
lcolor = "gray90", pch=19, col=aa, pt.cex=1.5)
par(mfrow=c(1,1))
dev.off()
png(file = "myplot.png", bg = "transparent")
plot(1:10)
rect(1, 5, 3, 7, col = "white")
dev.off()
pdf("./res/male.pdf", family="Japan1")
par(mfrow=c(1,2))
dotchart(main="平均寿命(2010年, 男)",jc.m("LE.10"),cex = 0.7,
lcolor = "gray90", pch=19, col=aa, pt.cex=1.5)
dotchart(main="平均寿命(2015年, 男)",jc.m("LE.15"),cex = 0.7,
lcolor = "gray90", pch=19, col=aa, pt.cex=1.5)
par(mfrow=c(1,1))
dev.off()
pdf("./res/female.pdf", family="Japan1")
par(mfrow=c(1,2))
dotchart(main="平均寿命(2010年, 女)",jc.f("LE.10"),cex = 0.7,
lcolor = "gray90", pch=19, col=aa, pt.cex=1.5)
dotchart(main="平均寿命(2015年, 女)",jc.f("LE.15"),cex = 0.7,
lcolor = "gray90", pch=19, col=aa, pt.cex=1.5)
par(mfrow=c(1,1))
dev.off()
dotchart(main="平均寿命(2010年, 男)",jc.m("LE.10"),cex = 0.7,
lcolor = "gray90", pch=19, col=aa, pt.cex=1.5)
abline(v=80)
dotchart(main="平均寿命(2015年, 男)",jc.m("LE.15"),cex = 0.7,
lcolor = "gray90", pch=19, col=aa, pt.cex=1.5)
abline(v=80)
abline(v=80, lty=2)
dotchart(main="平均寿命(2010年, 男)",jc.m("LE.10"),cex = 0.7,
lcolor = "gray90", pch=19, col=aa, pt.cex=1.5)
abline(v=80, lty=2)
dotchart(main="平均寿命(2015年, 男)",jc.m("LE.15"),cex = 0.7,
lcolor = "gray90", pch=19, col=aa, pt.cex=1.5)
abline(v=80, lty=2)
pdf("./res/male.pdf", family="Japan1")
par(mfrow=c(1,2))
dotchart(main="平均寿命(2010年, 男)",jc.m("LE.10"),cex = 0.7,
lcolor = "gray90", pch=19, col=aa, pt.cex=1.5)
abline(v=80, lty=2)
dotchart(main="平均寿命(2015年, 男)",jc.m("LE.15"),cex = 0.7,
lcolor = "gray90", pch=19, col=aa, pt.cex=1.5)
abline(v=80, lty=2)
par(mfrow=c(1,1))
dev.off()
pdf("./res/female.pdf", family="Japan1")
par(mfrow=c(1,2))
dotchart(main="平均寿命(2010年, 女)",jc.f("LE.10"),cex = 0.7,
lcolor = "gray90", pch=19, col=aa, pt.cex=1.5)
abline(v=80, lty=2)
dotchart(main="平均寿命(2015年, 女)",jc.f("LE.15"),cex = 0.7,
lcolor = "gray90", pch=19, col=aa, pt.cex=1.5)
abline(v=80, lty=2)
par(mfrow=c(1,1))
dev.off()
pdf("./res/male.pdf", family="Japan1")
par(mfrow=c(1,2))
dotchart(main="平均寿命(2010年, 男)",jc.m("LE.10"),cex = 0.7,
lcolor = "gray90", pch=19, col=aa, pt.cex=1.5)
abline(v=80, lty=2)
dotchart(main="平均寿命(2015年, 男)",jc.m("LE.15"),cex = 0.7,
lcolor = "gray90", pch=19, col=aa, pt.cex=1.5)
abline(v=80, lty=2)
par(mfrow=c(1,1))
dev.off()
pdf("./res/female.pdf", family="Japan1")
par(mfrow=c(1,2))
dotchart(main="平均寿命(2010年, 女)",jc.f("LE.10"),cex = 0.7,
lcolor = "gray90", pch=19, col=aa, pt.cex=1.5)
abline(v=80, lty=2)
dotchart(main="平均寿命(2015年, 女)",jc.f("LE.15"),cex = 0.7,
lcolor = "gray90", pch=19, col=aa, pt.cex=1.5)
abline(v=80, lty=2)
par(mfrow=c(1,1))
dev.off()
dotchart(main="平均寿命(2010年, 女)",jc.f("LE.10"),cex = 0.7,
lcolor = "gray90", pch=19, col=aa, pt.cex=1.5)
abline(v=87, lty=2)
dotchart(main="平均寿命(2015年, 女)",jc.f("LE.15"),cex = 0.7,
lcolor = "gray90", pch=19, col=aa, pt.cex=1.5)
abline(v=87, lty=2)
pdf("./res/female.pdf", family="Japan1")
par(mfrow=c(1,2))
dotchart(main="平均寿命(2010年, 女)",jc.f("LE.10"),cex = 0.7,
lcolor = "gray90", pch=19, col=aa, pt.cex=1.5)
abline(v=87, lty=2)
dotchart(main="平均寿命(2015年, 女)",jc.f("LE.15"),cex = 0.7,
lcolor = "gray90", pch=19, col=aa, pt.cex=1.5)
abline(v=87, lty=2)
par(mfrow=c(1,1))
dev.off()
# data import
library(readxl)
library(RColorBrewer)
d<-read_excel("./data1.xlsx",1); d<-d[-95,] #男女データ
LE<-d[, c("pref.J","sex", "LE.75","LE.85","LE.90","LE.95","LE.00","LE.05","LE.10","LE.15")]
pref<-d$pref.J[1:47]
LE<-split(LE, LE$sex)
m<-LE$`1`
f<-LE$`0`
f$LE.15
f$pref.J
round(f$LE.15, 2)
round(f$LE.15, 1)
cut(f$LE.15, c(86, 87, 88))
cut(f$LE.15, c(85, 86, 87, 88))
cut(f$LE.15, c(85, 86, 87, 88),right = T)
cut(f$LE.15, c(85, 86, 87, 88),
right = F,
include.lowest = T)
table(cut(f$LE.15, c(85, 86, 87, 88),
right = F,
include.lowest = T))
ecut(f$LE.15, c(85, 86, 87, 88),
right = F,
include.lowest = T)
cut(f$LE.15, c(85, 86, 87, 88),
right = F,
include.lowest = T)
cut(f$LE.10, c(85, 86, 87, 88),
right = F,
include.lowest = T)
jc.cut.LE<- function(x, interval) {
cut(x, interval,
right = F,
include.lowest = T)
}
jc.cut.LE(f$LE.10, c(85:88))
jc.cut.LE(f$LE.15, c(85:88))
table(jc.cut.LE(f$LE.10, c(85:88)),
jc.cut.LE(f$LE.15, c(85:88)))
table(jc.cut.LE(m$LE.10, c(85:88)),
jc.cut.LE(m$LE.15, c(85:88)))
m$LE.10
range(m$LE.10)
table(jc.cut.LE(m$LE.10, c(77:82)),
jc.cut.LE(m$LE.15, c(77:82)))
table(jc.cut.LE(m$LE.10, c(78:82)),
jc.cut.LE(m$LE.15, c(78:82)))
table(jc.cut.LE(m$LE.10, c(79:82)),
jc.cut.LE(m$LE.15, c(79:82)))
table(jc.cut.LE(m$LE.10, c(79:83)),
jc.cut.LE(m$LE.15, c(79:83)))
table(jc.cut.LE(m$LE.10, c(77:83)),
jc.cut.LE(m$LE.15, c(77:83)))
table(jc.cut.LE(m$LE.10, c(77:82)),
jc.cut.LE(m$LE.15, c(77:82)))
table(jc.cut.LE(m$LE.10, c(78:82)),
jc.cut.LE(m$LE.15, c(78:82)))
table(jc.cut.LE(m$LE.10, c(77:82)),
jc.cut.LE(m$LE.15, c(78:82)))
table(jc.cut.LE(m$LE.10, c(77:82)),
jc.cut.LE(m$LE.15, c(77:82)))
table(jc.cut.LE(m$LE.10, c(77:81)),
jc.cut.LE(m$LE.15, c(77:82)))
table(jc.cut.LE(m$LE.10, c(77:81)),
jc.cut.LE(m$LE.15, c(78:82)))
table(jc.cut.LE(m$LE.10, c(77:81)),
jc.cut.LE(m$LE.15, c(77:82)))
within(m, LE.10.factor<-jc.cut.LE(m$LE.10, c(77:81)))
within(m, LE.10.factor<-jc.cut.LE(m$LE.10, c(77:82)))
within(m,
LE.10.factor<-jc.cut.LE(m$LE.10, c(77:82))
LE.15.factor<-jc.cut.LE(m$LE.15, c(77:82))
)
within(m,
{LE.10.factor<-jc.cut.LE(m$LE.10, c(77:82))
LE.15.factor<-jc.cut.LE(m$LE.15, c(77:82))}
)
m<-within(m,
{LE.10.factor<-jc.cut.LE(m$LE.10, c(77:82))
LE.15.factor<-jc.cut.LE(m$LE.15, c(77:82))}
)
table(m$pref.J, m$LE.10.factor)
table(jc.cut.LE(m$LE.10, c(77:81)),
jc.cut.LE(m$LE.15, c(77:82)))
aa<-table(jc.cut.LE(m$LE.10, c(77:81)),
jc.cut.LE(m$LE.15, c(77:82)))
dimnames(aa)
names(aa)
dimnames(aa)<-c("aa", "bb")
dimnames(aa)<-list("aa", "bb")
dimnames(aa)[[1]]
xtabs(jc.cut.LE(m$LE.10, c(77:81)),
jc.cut.LE(m$LE.15, c(77:82)))
xtab(jc.cut.LE(m$LE.10, c(77:81)),
jc.cut.LE(m$LE.15, c(77:82)))
xtabs(jc.cut.LE(m$LE.10, c(77:81))~
jc.cut.LE(m$LE.15, c(77:82)))
xtab(jc.cut.LE(m$LE.10, c(77:81))~
jc.cut.LE(m$LE.15, c(77:82)))
xtab(~jc.cut.LE(m$LE.10, c(77:81)),
jc.cut.LE(m$LE.15, c(77:82)))
xtabs(~jc.cut.LE(m$LE.10, c(77:81)),
jc.cut.LE(m$LE.15, c(77:82)))
xtabs(~jc.cut.LE(m$LE.10, c(77:81))
jc.cut.LE(m$LE.15, c(77:82)))
xtabs(~jc.cut.LE(m$LE.10, c(77:81)),
jc.cut.LE(m$LE.15, c(77:82)))
xtabs(~jc.cut.LE(m$LE.10, c(77:81))+
jc.cut.LE(m$LE.15, c(77:82)))
xtabs(~jc.cut.LE(f$LE.10, c(85:88))+
jc.cut.LE(f$LE.15, c(85:88)))
m.table<-xtabs(~jc.cut.LE(m$LE.10, c(77:81))+
jc.cut.LE(m$LE.15, c(77:82)))
f.table<-xtabs(~jc.cut.LE(f$LE.10, c(85:88))+
jc.cut.LE(f$LE.15, c(85:88)))
f<-within(f,
{LE.10.factor<-jc.cut.LE(f$LE.10, c(85:88))
LE.15.factor<-jc.cut.LE(f$LE.15, c(85:88))}
)
f
rank(f$LE10)
rank(f$LE10)
f$LE10
rank(f$LE.10)
write.csv(f, "f.csv")
m.table<-xtabs(~jc.cut.LE(m$LE.10, c(77:81))+
jc.cut.LE(m$LE.15, c(77:82)))
write.csv(m.table, "m.table.csv")
write.csv(f.table, "f.table.csv")
library(readxl)
library(RColorBrewer)
d<-read_excel("./data1.xlsx",1); d<-d[-95,] #男女データ
LE<-d[, c("pref.J","sex", "LE.75","LE.85","LE.90","LE.95","LE.00","LE.05","LE.10","LE.15")]
pref<-d$pref.J[1:47]
LE<-split(LE, LE$sex)
m<-LE$`1`
f<-LE$`0`
m
m<-HLE$`1`
f<-HLE$`0`
# data import
library(readxl)
library(RColorBrewer)
d<-read_excel("./data1.xlsx",1); d<-d[-95,] #男女データ
LE<-d[, c("pref.J","sex", "LE.75","LE.85","LE.90","LE.95","LE.00","LE.05","LE.10","LE.15")]
pref<-d$pref.J[1:47]
LE<-split(LE, LE$sex)
m<-HLE$`1`
f<-HLE$`0`
# data import
library(readxl)
library(RColorBrewer)
d<-read_excel("./data1.xlsx",1); d<-d[-95,] #男女データ
colnames(d)
LE<-d[, c("pref.J","sex", "HLE.CSS.13", "LE.75","LE.85","LE.90","LE.95","LE.00","LE.05","LE.10","LE.15")]
pref<-d$pref.J[1:47]
LE<-split(HLE, LE$sex)
# data import
library(readxl)
library(RColorBrewer)
d<-read_excel("./data1.xlsx",1); d<-d[-95,] #男女データ
LE<-d[, c("pref.J","sex", "HLE.CSS.13", "LE.75","LE.85","LE.90","LE.95","LE.00","LE.05","LE.10","LE.15")]
pref<-d$pref.J[1:47]
LE<-split(HLE, LE$sex)
# data import
library(readxl)
library(RColorBrewer)
d<-read_excel("./data1.xlsx",1); d<-d[-95,] #男女データ
HLE<-d[, c("pref.J","sex", "HLE.CSS.13", "LE.75","LE.85","LE.90","LE.95","LE.00","LE.05","LE.10","LE.15")]
pref<-d$pref.J[1:47]
HLE<-split(HLE, LE$sex)
HLE
m<-HLE$`1`
f<-HLE$`0`
m
m$HLE.CSS.13
jc.m <- function(year){
tt<-eval(parse(text=paste0("m","$",year)))
names(tt)<-m$pref.J
tt<-tt[order(tt)]
return(tt)}
jc.f <- function(year){
tt<-eval(parse(text=paste0("f","$",year)))
names(tt)<-f$pref.J
tt<-tt[order(tt)]
return(tt)}
jc.m(HLE.CSS.13)
jc.m("HLE.CSS.13")
colfunc <- colorRampPalette(c("gray90","black"))
aa<-colfunc(47)
dotchart(main="平均寿命(2010年, 男)",jc.m("HLE.CSS.13"),cex = 0.7,
lcolor = "gray90", pch=19, col=aa, pt.cex=1.5)
dotchart(main="平均寿命(2013年, 男)",jc.m("HLE.CSS.13"),cex = 0.7,
lcolor = "gray90", pch=19, col=aa, pt.cex=1.5)
dotchart(main="平均寿命(2013年, 女)",jc.f("HLE.CSS.13"),cex = 0.7,
lcolor = "gray90", pch=19, col=aa, pt.cex=1.5)
jc.f("HLE.CSS.13")
par(mfrow=c(1,2))
dotchart(main="平均寿命(2013年, 男)",jc.m("HLE.CSS.13"),cex = 0.7,
lcolor = "gray90", pch=19, col=aa, pt.cex=1.5)
abline(v=80, lty=2)
dotchart(main="平均寿命(2013年, 女)",jc.f("HLE.CSS.13"),cex = 0.7,
lcolor = "gray90", pch=19, col=aa, pt.cex=1.5)
abline(v=80, lty=2)
par(mfrow=c(1,1))
par(mfrow=c(1,2))
dotchart(main="平均寿命(2013年, 男)",jc.m("HLE.CSS.13"),cex = 0.7,
lcolor = "gray90", pch=19, col=aa, pt.cex=1.5)
abline(v=79, lty=2)
dotchart(main="平均寿命(2013年, 女)",jc.f("HLE.CSS.13"),cex = 0.7,
lcolor = "gray90", pch=19, col=aa, pt.cex=1.5)
abline(v=80, lty=2)
par(mfrow=c(1,1))
par(mfrow=c(1,2))
dotchart(main="平均寿命(2013年, 男)",jc.m("HLE.CSS.13"),cex = 0.7,
lcolor = "gray90", pch=19, col=aa, pt.cex=1.5)
abline(v=79, lty=2)
dotchart(main="平均寿命(2013年, 女)",jc.f("HLE.CSS.13"),cex = 0.7,
lcolor = "gray90", pch=19, col=aa, pt.cex=1.5)
abline(v=84, lty=2)
par(mfrow=c(1,1))
par(mfrow=c(1,2))
dotchart(main="健康寿命(2013年, 男)",jc.m("HLE.CSS.13"),cex = 0.7,
lcolor = "gray90", pch=19, col=aa, pt.cex=1.5)
abline(v=79, lty=2)
dotchart(main="健康寿命(2013年, 女)",jc.f("HLE.CSS.13"),cex = 0.7,
lcolor = "gray90", pch=19, col=aa, pt.cex=1.5)
abline(v=84, lty=2)
par(mfrow=c(1,1))
par(mfrow=c(1,2))
dotchart(main="健康寿命(2013年, 男)",jc.m("HLE.CSS.13"),cex = 0.7,
lcolor = "gray90", pch=19, col=aa, pt.cex=1.5)
abline(v=79, lty=2)
dotchart(main="健康寿命(2013年, 女)",jc.f("HLE.CSS.13"),cex = 0.7,
lcolor = "gray90", pch=19, col=aa, pt.cex=1.5)
abline(v=83.5, lty=2)
par(mfrow=c(1,1))
pdf("./res/kenko.pdf", family="Japan1")
par(mfrow=c(1,2))
dotchart(main="健康寿命(2013年, 男)",jc.m("HLE.CSS.13"),cex = 0.7,
lcolor = "gray90", pch=19, col=aa, pt.cex=1.5)
abline(v=79, lty=2)
dotchart(main="健康寿命(2013年, 女)",jc.f("HLE.CSS.13"),cex = 0.7,
lcolor = "gray90", pch=19, col=aa, pt.cex=1.5)
abline(v=83.5, lty=2)
par(mfrow=c(1,1))
dev.off()
m
jc.m(HLE.CSS.13)
jc.m("HLE.CSS.13")
jc.f("HLE.CSS.13")
rbind(male=jc.m("HLE.CSS.13"),
female=jc.f("HLE.CSS.13"))
cbind(male=jc.m("HLE.CSS.13"),
female=jc.f("HLE.CSS.13"))
jc.m("HLE.CSS.13")
write.csv(jc.m("HLE.CSS.13"),"./res/male.kenko.csv")
write.csv(jc.f("HLE.CSS.13"),"./res/female.kenko.csv")
summary(jc.m("HLE.CSS.13"))
jc.m("HLE.CSS.13")
quantile(jc.m("HLE.CSS.13"), 0.75)
quantile(jc.m("HLE.CSS.13"), 0.25)
quantile(jc.m("HLE.CSS.13"), 0.75)
male<-jc.m("HLE.CSS.13")
quantile(male, 0.75)
male[male>quantile(male, 0.75)]
female<-jc.f("HLE.CSS.13")
female[female>quantile(female, 0.75)]
write.csv(male[male>quantile(male, 0.75)],"./res/male.kenko.csv")
male<-jc.m("HLE.CSS.13")
write.csv(male[male>quantile(male, 0.75)],"./res/male.kenko.csv")
female<-jc.f("HLE.CSS.13")
write.csv(female[female>quantile(female, 0.75)],"./res/male.kenko.csv")
male<-jc.m("HLE.CSS.13")
write.csv(male[male>quantile(male, 0.75)],"./res/male.kenko.csv")
female<-jc.f("HLE.CSS.13")
write.csv(female[female>quantile(female, 0.75)],"./res/male.kenko.csv")
male<-jc.m("HLE.CSS.13")
write.csv(male[male>quantile(male, 0.75)],"./res/male.kenko.csv")
female<-jc.f("HLE.CSS.13")
write.csv(female[female>quantile(female, 0.75)],"./res/female.kenko.csv")
sort(jc.m("HLE.CSS.13"))
sort(jc.m("HLE.CSS.13"), decreasing = T)
male<-sort(jc.m("HLE.CSS.13"), decreasing = T)
write.csv(male[male>quantile(male, 0.75)],"./res/male.kenko.csv")
female<-sort(jc.f("HLE.CSS.13"), decreasing = T)
write.csv(female[female>quantile(female, 0.75)],"./res/female.kenko.csv")
library(readxl)
library(RColorBrewer)
d<-read_excel("./data1.xlsx",1); d<-d[-95,] #男女データ
HLE<-d[, c("pref.J","sex", "HLE.CSS.13", "LE.75","LE.85","LE.90","LE.95","LE.00","LE.05","LE.10","LE.15")]
pref<-d$pref.J[1:47]
HLE<-split(HLE, LE$sex)
m<-HLE$`1`
f<-HLE$`0`
jc.m <- function(year){
tt<-eval(parse(text=paste0("m","$",year)))
names(tt)<-m$pref.J
tt<-tt[order(tt)]
return(tt)}
jc.f <- function(year){
tt<-eval(parse(text=paste0("f","$",year)))
names(tt)<-f$pref.J
tt<-tt[order(tt)]
return(tt)}
colfunc <- colorRampPalette(c("gray90","black"))
aa<-colfunc(47)
par(mfrow=c(1,2))
dotchart(main="健康寿命(2013年, 男)",jc.m("HLE.CSS.13"),cex = 0.7,
lcolor = "gray90", pch=19, col=aa, pt.cex=1.5)
function (..., na.last = TRUE, decreasing = FALSE, method = c("shell",
"radix"))
library(readxl)
library(RColorBrewer)
library(readxl)
library(RColorBrewer)
d<-read_excel("./data1.xlsx",1); d<-d[-95,] #男女データ
HLE<-d[, c("pref.J","sex", "HLE.CSS.13", "LE.75","LE.85","LE.90","LE.95","LE.00","LE.05","LE.10","LE.15")]
pref<-d$pref.J[1:47]
HLE<-split(HLE, LE$sex)
m<-HLE$`1`
d<-read_excel("./data1.xlsx",1); d<-d[-95,] #男女データ
HLE<-d[, c("pref.J","sex", "HLE.CSS.13", "LE.75","LE.85","LE.90","LE.95","LE.00","LE.05","LE.10","LE.15")]
pref<-d$pref.J[1:47]
HLE<-split(HLE, HLE$sex)
m<-HLE$`1`
f<-HLE$`0`
jc.m <- function(year){
tt<-eval(parse(text=paste0("m","$",year)))
names(tt)<-m$pref.J
tt<-tt[order(tt)]
return(tt)}
jc.f <- function(year){
tt<-eval(parse(text=paste0("f","$",year)))
names(tt)<-f$pref.J
tt<-tt[order(tt)]
return(tt)}
colfunc <- colorRampPalette(c("gray90","black"))
aa<-colfunc(47)
par(mfrow=c(1,2))
dotchart(main="健康寿命(2013年, 男)",jc.m("HLE.CSS.13"),cex = 0.7,
lcolor = "gray90", pch=19, col=aa, pt.cex=1.5)
abline(v=79, lty=2)
dotchart(main="健康寿命(2013年, 女)",jc.f("HLE.CSS.13"),cex = 0.7,
lcolor = "gray90", pch=19, col=aa, pt.cex=1.5)
abline(v=83.5, lty=2)
par(mfrow=c(1,1))
par(mfrow=c(1,2))
dotchart(main="健康寿命(2013年, 男性)",jc.m("HLE.CSS.13"),cex = 0.7,
lcolor = "gray90", pch=19, col=aa, pt.cex=1.5)
abline(v=79, lty=2)
dotchart(main="健康寿命(2013年, 女性)",jc.f("HLE.CSS.13"),cex = 0.7,
lcolor = "gray90", pch=19, col=aa, pt.cex=1.5)
abline(v=83.5, lty=2)
par(mfrow=c(1,1))
pdf("./res/kenko.pdf", family="Japan1")
par(mfrow=c(1,2))
dotchart(main="健康寿命(2013年, 男性)",jc.m("HLE.CSS.13"),cex = 0.7,
lcolor = "gray90", pch=19, pt.cex=1.5)
abline(v=79, lty=2)
dotchart(main="健康寿命(2013年, 女性)",jc.f("HLE.CSS.13"),cex = 0.7,
lcolor = "gray90", pch=19, pt.cex=1.5)
abline(v=83.5, lty=2)
par(mfrow=c(1,1))
dev.off()
# data import
library(readxl)
library(RColorBrewer)
d<-read_excel("./data1.xlsx",1); d<-d[-95,] #男女データ
HLE<-d[, c("pref.J","sex", "HLE.CSS.13", "LE.75","LE.85","LE.90","LE.95","LE.00","LE.05","LE.10","LE.15")]
pref<-d$pref.J[1:47]
HLE<-split(HLE, HLE$sex)
m<-HLE$`1`
f<-HLE$`0`
jc.m <- function(year){
tt<-eval(parse(text=paste0("m","$",year)))
names(tt)<-m$pref.J
tt<-tt[order(tt)]
return(tt)}
jc.f <- function(year){
tt<-eval(parse(text=paste0("f","$",year)))
names(tt)<-f$pref.J
tt<-tt[order(tt)]
return(tt)}
colfunc <- colorRampPalette(c("gray90","black"))
aa<-colfunc(47)
dotchart(main="健康寿命(2013年, 男性)",jc.m("HLE.CSS.13"),cex = 0.7,
lcolor = "gray90", pch=19, col=aa, pt.cex=1.5)
abline(v=79, lty=2)
par(family= "HiraKakuProN-W3")
dotchart(main="健康寿命(2013年, 男性)",jc.m("HLE.CSS.13"),cex = 0.7,
lcolor = "gray90", pch=19, col=aa, pt.cex=1.5)
abline(v=79, lty=2)
jc.m("HLE.CSS.13")
suppressMessages(library(tidyverse))jc.m("HLE.CSS.13")
# 使用package
suppressMessages(library(readxl))
suppressMessages(library(dplyr))
suppressMessages(library(data.table))
suppressMessages(library(kableExtra))
suppressMessages(library(curl))
suppressMessages(library(tidyverse))jc.m("HLE.CSS.13")
suppressMessages(library(tidyverse))
jc.m("HLE.CSS.13")
jc.m("HLE.CSS.13") %>% str()
HLE.CSS.13
m$HLE.CSS.13
