dev.off()
dev.off()
dev.off()
dev.off()
plot(rank$LE.10, rank$LE.15, type="n", xlab="", ylab="", axes=F, asp=1)
text(rank$LE.10, rank$LE.15, f$pref.J, col=c("blue", "grey20", "red")[rank$diff], cex=c(1, 2)[d$shiga])
rank$LE.10
f$pref.J
d<-read_excel("./data1.xlsx",1);
d<-d[-95,c(3,6,18,19)]
d<-within(d, shiga<-factor(ifelse(pref.id==25, 1, 0)))
m<-d[1:47,];f<-d[1:47+47,] # 男女別分けデータ
rank<-as.data.frame(apply(m[,3:4],2, rank))
rank<-within(rank,
{pref.id<-m$pref.id
pref.J<-m$pref.J
diff<-ifelse(rank$LE.10-rank$LE.15<=0,ifelse(rank$LE.10-rank$LE.15==0, 0, 1) ,-1)
diff<-factor(diff)
}
)
xlab<-rank[order(rank$LE.10), ]$pref.J
ylab<-rank[order(rank$LE.15), ]$pref.J
xlab
ylab
plot(rank$LE.10, rank$LE.15, type="n", xlab="", ylab="", axes=F, asp=1)
text(rank$LE.10, rank$LE.15, m$pref.J, col=c("blue", "grey20", "red")[rank$diff], cex=c(1, 2)[d$shiga])
abline(a=0,b=1)
axis(1, label=xlab, at=1:47, las=3, cex.axis=0.6)
axis(2, label=ylab, at=1:47, las=2, cex.axis=0.6)
title(xlab="2010年平均寿命順位", line=4, cex.lab=2)
dev.off()
dev.off()
pdf("rank.male.pdf", family="Japan1")
par(mar=c(6,6,4,3))
plot(rank$LE.10, rank$LE.15, type="n", xlab="", ylab="", axes=F, asp=1)
text(rank$LE.10, rank$LE.15, m$pref.J, col=c("blue", "grey20", "red")[rank$diff], cex=c(1, 2)[d$shiga])
abline(a=0,b=1)
axis(1, label=xlab, at=1:47, las=3, cex.axis=0.6)
axis(2, label=ylab, at=1:47, las=2, cex.axis=0.6)
title(xlab="2010年平均寿命順位", line=4, cex.lab=2)
title(ylab="2015年平均寿命順位", line=4, cex.lab=2)
title(main="平均寿命順位(男)", cex.main=2)
dev.off()
rank<-as.data.frame(apply(f[,3:4],2, rank))
rank<-within(rank,
{pref.id<-f$pref.id
pref.J<-f$pref.J
diff<-ifelse(rank$LE.10-rank$LE.15<=0,ifelse(rank$LE.10-rank$LE.15==0, 0, 1) ,-1)
diff<-factor(diff)
}
)
# xlab, ylab 順位情報習得
xlab<-rank[order(rank$LE.10), ]$pref.J
ylab<-rank[order(rank$LE.15), ]$pref.J
rank$diff
# plot 開始
pdf("rank.female.pdf", family="Japan1")
par(mar=c(6,6,4,3))
plot(rank$LE.10, rank$LE.15, type="n", xlab="", ylab="", axes=F, asp=1)
text(rank$LE.10, rank$LE.15, f$pref.J, col=c("blue", "grey20", "red")[rank$diff], cex=c(1, 2)[d$shiga])
abline(a=0,b=1)
axis(1, label=xlab, at=1:47, las=3, cex.axis=0.6)
axis(2, label=ylab, at=1:47, las=2, cex.axis=0.6)
title(xlab="2010年平均寿命順位", line=4, cex.lab=2)
title(ylab="2015年平均寿命順位", line=4, cex.lab=2)
title(main="平均寿命順位(女)", cex.main=2)
dev.off()
#---- 以下無視
windows()
m.10<-m[order(m$LE.10, decreasing = T), ]
plot(m.10$LE.10, type="n", axes=F, xlab="", ylab="", xlim=c(1,47), ylim=c(76.9, 81))
text(m.10$LE.10[-2], m.10$pref.J[-2], cex=0.7)
text(m.10$LE.10[2], m.10$pref.J[2], cex=2)
#axis(1, labels=names(LE.m), at=1:47,las=3)
axis(2, labels=paste0(77:82,"歳"), at=77:82)
windows()
m.15<-m[order(m$LE.15, decreasing = T), ]
plot(m.15$LE.15, type="n", axes=F, xlab="", ylab="", xlim=c(1,47), ylim=c(78, 82))
text(m.15$LE.15[-1], m.15$pref.J[-1], cex=0.7)
text(m.15$LE.15[1], m.15$pref.J[1], cex=2, col="red")
#axis(1, labels=names(LE.m), at=1:47,las=3)
axis(2, labels=paste0(78:82,"歳"), at=78:82)
dev.off()
library(readxl)
d<-read_excel("./data1.xlsx",1);
d<-d[-95,c(3,6,18,19)]
d<-within(d, shiga<-factor(ifelse(pref.id==25, 1, 0)))
m<-d[1:47,];f<-d[1:47+47,] # 男女別分けデータ
# data import
library(readxl)
d<-read_excel("./data1.xlsx",1);
d<-d[-95,c(3,6,18,19)]
d<-within(d, shiga<-factor(ifelse(pref.id==25, 1, 0)))
#男女データ
m<-d[1:47,];f<-d[1:47+47,] # 男女別分けデータ
#----- 男性データ------
# rank データへ変換
rank<-as.data.frame(apply(m[,3:4],2, rank))
rank<-within(rank,
{pref.id<-m$pref.id
pref.J<-m$pref.J
diff<-ifelse(rank$LE.10-rank$LE.15<=0,ifelse(rank$LE.10-rank$LE.15==0, 0, 1) ,-1)
diff<-factor(diff)
}
)
# xlab, ylab 順位情報習得
xlab<-rank[order(rank$LE.10), ]$pref.J
ylab<-rank[order(rank$LE.15), ]$pref.J
# plot 開始
pdf("rank.male.png")
par(mar=c(6,6,4,3))
plot(rank$LE.10, rank$LE.15, type="n", xlab="", ylab="", axes=F, asp=1)
text(rank$LE.10, rank$LE.15, m$pref.J, col=c("blue", "grey20", "red")[rank$diff], cex=c(1, 2)[d$shiga])
abline(a=0,b=1)
axis(1, label=xlab, at=1:47, las=3, cex.axis=0.6)
axis(2, label=ylab, at=1:47, las=2, cex.axis=0.6)
title(xlab="2010年平均寿命順位", line=4, cex.lab=2)
title(ylab="2015年平均寿命順位", line=4, cex.lab=2)
title(main="平均寿命順位(男)", cex.main=2)
dev.off()
#----- 女性データ------
# rank データへ変換
rank<-as.data.frame(apply(f[,3:4],2, rank))
rank<-within(rank,
{pref.id<-f$pref.id
pref.J<-f$pref.J
diff<-ifelse(rank$LE.10-rank$LE.15<=0,ifelse(rank$LE.10-rank$LE.15==0, 0, 1) ,-1)
diff<-factor(diff)
}
)
# xlab, ylab 順位情報習得
xlab<-rank[order(rank$LE.10), ]$pref.J
ylab<-rank[order(rank$LE.15), ]$pref.J
rank$diff
# plot 開始
pdf("rank.female.png")
par(mar=c(6,6,4,3))
plot(rank$LE.10, rank$LE.15, type="n", xlab="", ylab="", axes=F, asp=1)
text(rank$LE.10, rank$LE.15, f$pref.J, col=c("blue", "grey20", "red")[rank$diff], cex=c(1, 2)[d$shiga])
abline(a=0,b=1)
axis(1, label=xlab, at=1:47, las=3, cex.axis=0.6)
axis(2, label=ylab, at=1:47, las=2, cex.axis=0.6)
title(xlab="2010年平均寿命順位", line=4, cex.lab=2)
title(ylab="2015年平均寿命順位", line=4, cex.lab=2)
title(main="平均寿命順位(女)", cex.main=2)
dev.off()
# data import
library(readxl)
d<-read_excel("./data1.xlsx",1);
d<-d[-95,c(3,6,18,19)]
d<-within(d, shiga<-factor(ifelse(pref.id==25, 1, 0)))
#男女データ
m<-d[1:47,];f<-d[1:47+47,] # 男女別分けデータ
#----- 男性データ------
# rank データへ変換
rank<-as.data.frame(apply(m[,3:4],2, rank))
rank<-within(rank,
{pref.id<-m$pref.id
pref.J<-m$pref.J
diff<-ifelse(rank$LE.10-rank$LE.15<=0,ifelse(rank$LE.10-rank$LE.15==0, 0, 1) ,-1)
diff<-factor(diff)
}
)
# xlab, ylab 順位情報習得
xlab<-rank[order(rank$LE.10), ]$pref.J
ylab<-rank[order(rank$LE.15), ]$pref.J
# plot 開始
png("rank.male.png")
par(mar=c(6,6,4,3))
plot(rank$LE.10, rank$LE.15, type="n", xlab="", ylab="", axes=F, asp=1)
text(rank$LE.10, rank$LE.15, m$pref.J, col=c("blue", "grey20", "red")[rank$diff], cex=c(1, 2)[d$shiga])
abline(a=0,b=1)
axis(1, label=xlab, at=1:47, las=3, cex.axis=0.6)
axis(2, label=ylab, at=1:47, las=2, cex.axis=0.6)
title(xlab="2010年平均寿命順位", line=4, cex.lab=2)
title(ylab="2015年平均寿命順位", line=4, cex.lab=2)
title(main="平均寿命順位(男)", cex.main=2)
dev.off()
#----- 女性データ------
# rank データへ変換
rank<-as.data.frame(apply(f[,3:4],2, rank))
rank<-within(rank,
{pref.id<-f$pref.id
pref.J<-f$pref.J
diff<-ifelse(rank$LE.10-rank$LE.15<=0,ifelse(rank$LE.10-rank$LE.15==0, 0, 1) ,-1)
diff<-factor(diff)
}
)
# xlab, ylab 順位情報習得
xlab<-rank[order(rank$LE.10), ]$pref.J
ylab<-rank[order(rank$LE.15), ]$pref.J
rank$diff
# plot 開始
png("rank.female.png")
par(mar=c(6,6,4,3))
plot(rank$LE.10, rank$LE.15, type="n", xlab="", ylab="", axes=F, asp=1)
text(rank$LE.10, rank$LE.15, f$pref.J, col=c("blue", "grey20", "red")[rank$diff], cex=c(1, 2)[d$shiga])
abline(a=0,b=1)
axis(1, label=xlab, at=1:47, las=3, cex.axis=0.6)
axis(2, label=ylab, at=1:47, las=2, cex.axis=0.6)
title(xlab="2010年平均寿命順位", line=4, cex.lab=2)
title(ylab="2015年平均寿命順位", line=4, cex.lab=2)
title(main="平均寿命順位(女)", cex.main=2)
dev.off()
plot(rank$LE.10, rank$LE.15, type="n", xlab="", ylab="", axes=F, asp=1)
text(rank$LE.10, rank$LE.15, f$pref.J, col=c("blue", "grey20", "red")[rank$diff], cex=c(1, 2)[d$shiga])
abline(a=0,b=1)
axis(1, label=xlab, at=1:47, las=3, cex.axis=0.6)
axis(2, label=ylab, at=1:47, las=2, cex.axis=0.6)
title(xlab="2010年平均寿命順位", line=4, cex.lab=2)
title(ylab="2015年平均寿命順位", line=4, cex.lab=2)
title(main="平均寿命順位(女)", cex.main=2)
legend("topleft", "a")
legend("topleft", c("赤字:順位上昇", "青字:順位下降", "黒字:横這い"))
legend("topleft", c("赤字:順位上昇", "青字:順位下降", "黒字:横這い")
,col=c("red", "blue", "grey20"))
legend("topleft", c("赤字:順位上昇", "青字:順位下降", "黒字:横這い")
,col.text=c("red", "blue", "grey20") )
legend("topleft", c("赤字:順位上昇", "青字:順位下降", "黒字:横這い")
,text.col=c("red", "blue", "grey20") )
# data import
library(readxl)
d<-read_excel("./data1.xlsx",1);
d<-d[-95,c(3,6,18,19)]
d<-within(d, shiga<-factor(ifelse(pref.id==25, 1, 0)))
#男女データ
m<-d[1:47,];f<-d[1:47+47,] # 男女別分けデータ
#----- 男性データ------
# rank データへ変換
rank<-as.data.frame(apply(m[,3:4],2, rank))
rank<-within(rank,
{pref.id<-m$pref.id
pref.J<-m$pref.J
diff<-ifelse(rank$LE.10-rank$LE.15<=0,ifelse(rank$LE.10-rank$LE.15==0, 0, 1) ,-1)
diff<-factor(diff)
}
)
# xlab, ylab 順位情報習得
xlab<-rank[order(rank$LE.10), ]$pref.J
ylab<-rank[order(rank$LE.15), ]$pref.J
# plot 開始
png("rank.male.png")
par(mar=c(6,6,4,3))
plot(rank$LE.10, rank$LE.15, type="n", xlab="", ylab="", axes=F, asp=1)
text(rank$LE.10, rank$LE.15, m$pref.J, col=c("blue", "grey20", "red")[rank$diff], cex=c(1, 2)[d$shiga])
abline(a=0,b=1)
axis(1, label=xlab, at=1:47, las=3, cex.axis=0.6)
axis(2, label=ylab, at=1:47, las=2, cex.axis=0.6)
title(xlab="2010年平均寿命順位", line=4, cex.lab=2)
title(ylab="2015年平均寿命順位", line=4, cex.lab=2)
title(main="平均寿命順位(男)", cex.main=2)
legend("topleft", c("赤字:順位上昇", "青字:順位下降", "黒字:横這い")
,text.col=c("red", "blue", "grey20") )
dev.off()
#----- 女性データ------
# rank データへ変換
rank<-as.data.frame(apply(f[,3:4],2, rank))
rank<-within(rank,
{pref.id<-f$pref.id
pref.J<-f$pref.J
diff<-ifelse(rank$LE.10-rank$LE.15<=0,ifelse(rank$LE.10-rank$LE.15==0, 0, 1) ,-1)
diff<-factor(diff)
}
)
# xlab, ylab 順位情報習得
xlab<-rank[order(rank$LE.10), ]$pref.J
ylab<-rank[order(rank$LE.15), ]$pref.J
rank$diff
# plot 開始
png("rank.female.png")
par(mar=c(6,6,4,3))
plot(rank$LE.10, rank$LE.15, type="n", xlab="", ylab="", axes=F, asp=1)
text(rank$LE.10, rank$LE.15, f$pref.J, col=c("blue", "grey20", "red")[rank$diff], cex=c(1, 2)[d$shiga])
abline(a=0,b=1)
axis(1, label=xlab, at=1:47, las=3, cex.axis=0.6)
axis(2, label=ylab, at=1:47, las=2, cex.axis=0.6)
title(xlab="2010年平均寿命順位", line=4, cex.lab=2)
title(ylab="2015年平均寿命順位", line=4, cex.lab=2)
title(main="平均寿命順位(女)", cex.main=2)
legend("topleft", c("赤字:順位上昇", "青字:順位下降", "黒字:横這い")
,text.col=c("red", "blue", "grey20") )
dev.off()
library(readxl)
d<-read_excel("../data1.xlsx",1); d<-d[-95,] #男女データ
d<-read_excel("./data1.xlsx",1); d<-d[-95,] #男女データ
d
f<-d[d$sex==0,];m<-d[d$sex==1,] # 男女別分けデータ
matplot(t(LE) ,  xlab="", ylab="", type="n", axes=F, xlim=c(0.5, 8.5))
load("HL.Rdata")
View(LE)
View(LE)
View(LE)
View(LE)
library(readxl)
d<-read_excel("./data1.xlsx",1); d<-d[-95,] #男女データ
f<-d[d$sex==0,];m<-d[d$sex==1,] # 男女別分けデータ
d
colnames(d)
cat(colnames(d))
LE.05 LE.10 LE.15
LE<d[c("LE.75","LE.85","LE.90","LE.95","LE.00","LE.05","LE.10","LE.15")]
d
d[[c("LE.75","LE.85","LE.90","LE.95","LE.00","LE.05","LE.10","LE.15")]]
LE<d[, c("LE.75","LE.85","LE.90","LE.95","LE.00","LE.05","LE.10","LE.15")]
LE<-d[, c("LE.75","LE.85","LE.90","LE.95","LE.00","LE.05","LE.10","LE.15")]
LE
LE<-d[, c("LE.75","LE.85","LE.90","LE.95","LE.00","LE.05","LE.10","LE.15")]
LE
head(LE)
matplot(t(LE) ,  xlab="", ylab="", type="n", axes=F, xlim=c(0.5, 8.5))
matpoints(t(LE) ,  xlab="", ylab="", type="l",
col=rgb(26/255,26/255,26/255, alpha=0.05),
lty=rep(1,47),
lwd=3)
axis(side=1,
labels=c("1975年", "1985年", "1990年", "1995年", "2000年", "2005年", "2010年", "2015年"),
at=1:8,
las=3,
cex.axis = 1.5)
axis(side=2,
labels=c("70歳", "75歳", "80歳", "85歳", "90歳"),
at=seq(70,90,5),
cex.axis=1.5)
text(2, 85, "女性", cex=2)
text(4, 80, "男性", cex=2)
matpoints(t(LE[c(25,25+47),]) , type="l",
col=rgb(0,0,1, alpha=0.7),
lty=rep(1,47), lwd=3)
matpoints(t(LE[c(20,20+47),]) , type="l",
col=rgb(1,0,0, alpha=0.7),
lty=rep(2,2), lwd=1)
legend("bottomright", c("滋賀", "長野", "その他"), lty=c(1,2,1), col=c("blue","red", "gray"),lwd=c(2,2,2), cex=1.5)
text(c(1,2,3,4,5,6,7,8),
c(71.51, 75.34, 76.36, 77.13, 78.19,  79.6, 80.58, 81.78)-1,
c("22位", "11位", "12位", "12位", "6位","2位","2位","1位") ,
cex=1.5)
text(c(1,2,3,4,5,6,7,8),
c(76.47, 80.63, 81.88,  83.2, 84.92, 86.17, 86.69, 87.57)-0.5,
c("37位",  "30位",  "37位",  "30位",  "15位",  "12位",  "12位",   "4位"),
cex=1.5)
title(main="滋賀県の平均寿命順位推移", cex.main=2)
library(readxl)
d<-read_excel("./data1.xlsx",1); d<-d[-95,] #男女データ
f<-d[d$sex==0,];m<-d[d$sex==1,] # 男女別分けデータ
rm(f, d)
ls()
rm(m)
d<-read_excel("./data1.xlsx",1); d<-d[-95,] #男女データ
d
ls()
LE<-d[, c("LE.75","LE.85","LE.90","LE.95","LE.00","LE.05","LE.10","LE.15")]
matplot(t(LE) ,  xlab="", ylab="", type="n", axes=F, xlim=c(0.5, 8.5))
matpoints(t(LE) ,  xlab="", ylab="", type="l",
col=rgb(26/255,26/255,26/255, alpha=0.05),
lty=rep(1,47),
lwd=3)
axis(side=1,
labels=c("1975年", "1985年", "1990年", "1995年", "2000年", "2005年", "2010年", "2015年"),
at=1:8,
las=3,
cex.axis = 1.5)
axis(side=2,
labels=c("70歳", "75歳", "80歳", "85歳", "90歳"),
at=seq(70,90,5),
cex.axis=1.5)
text(2, 85, "女性", cex=2)
text(4, 80, "男性", cex=2)
matpoints(t(LE[c(25,25+47),]) , type="l",
col=rgb(0,0,1, alpha=0.7),
lty=rep(1,47), lwd=3)
matpoints(t(LE[c(20,20+47),]) , type="l",
col=rgb(1,0,0, alpha=0.7),
lty=rep(2,2), lwd=1)
legend("bottomright", c("滋賀", "長野", "その他"), lty=c(1,2,1), col=c("blue","red", "gray"),lwd=c(2,2,2), cex=1.5)
text(c(1,2,3,4,5,6,7,8),
c(71.51, 75.34, 76.36, 77.13, 78.19,  79.6, 80.58, 81.78)-1,
c("22位", "11位", "12位", "12位", "6位","2位","2位","1位") ,
cex=1.5)
text(c(1,2,3,4,5,6,7,8),
c(76.47, 80.63, 81.88,  83.2, 84.92, 86.17, 86.69, 87.57)-0.5,
c("37位",  "30位",  "37位",  "30位",  "15位",  "12位",  "12位",   "4位"),
cex=1.5)
title(main="滋賀県の平均寿命順位推移", cex.main=2)
# data import
library(readxl)
d<-read_excel("./data1.xlsx",1); d<-d[-95,] #男女データ
LE<-d[, c("LE.75","LE.85","LE.90","LE.95","LE.00","LE.05","LE.10","LE.15")]
#----- plot 開始--------------------
png("aa.png")
matplot(t(LE) ,  xlab="", ylab="", type="n", axes=F, xlim=c(0.5, 8.5))
matpoints(t(LE) ,  xlab="", ylab="", type="l",
col=rgb(26/255,26/255,26/255, alpha=0.05),
lty=rep(1,47),
lwd=3)
axis(side=1,
labels=c("1975年", "1985年", "1990年", "1995年", "2000年", "2005年", "2010年", "2015年"),
at=1:8,
las=3,
cex.axis = 1.5)
axis(side=2,
labels=c("70歳", "75歳", "80歳", "85歳", "90歳"),
at=seq(70,90,5),
cex.axis=1.5)
text(2, 85, "女性", cex=2)
text(4, 80, "男性", cex=2)
# 滋賀県
matpoints(t(LE[c(25,25+47),]) , type="l",
col=rgb(0,0,1, alpha=0.7),
lty=rep(1,47), lwd=3)
# 長野県
matpoints(t(LE[c(20,20+47),]) , type="l",
col=rgb(1,0,0, alpha=0.7),
lty=rep(2,2), lwd=1)
legend("bottomright", c("滋賀", "長野", "その他"), lty=c(1,2,1), col=c("blue","red", "gray"),lwd=c(2,2,2), cex=1.5)
text(c(1,2,3,4,5,6,7,8),
c(71.51, 75.34, 76.36, 77.13, 78.19,  79.6, 80.58, 81.78)-1,
c("22位", "11位", "12位", "12位", "6位","2位","2位","1位") ,
cex=1.5)
text(c(1,2,3,4,5,6,7,8),
c(76.47, 80.63, 81.88,  83.2, 84.92, 86.17, 86.69, 87.57)-0.5,
c("37位",  "30位",  "37位",  "30位",  "15位",  "12位",  "12位",   "4位"),
cex=1.5)
title(main="滋賀県の平均寿命順位推移", cex.main=2)
dev.off()
#----- plot end--------------------
library(readxl)
d<-read_excel("./data1.xlsx",1); d<-d[-95,] #男女データ
f<-d[d$sex==0,];m<-d[d$sex==1,] # 男女別分けデータ
LE<-d[, c("LE.75","LE.85","LE.90","LE.95","LE.00","LE.05","LE.10","LE.15")]
matplot(t(LE) ,  xlab="", ylab="", type="n", axes=F, xlim=c(0.5, 8.5))
matpoints(t(LE) ,  xlab="", ylab="", type="l",
col=rgb(26/255,26/255,26/255, alpha=0.05),
lty=rep(1,47),
lwd=3)
axis(side=1,
labels=c("1975年", "1985年", "1990年", "1995年", "2000年", "2005年", "2010年", "2015年"),
at=1:8,
las=3,
cex.axis = 1.5)
axis(side=2,
labels=c("70歳", "75歳", "80歳", "85歳", "90歳"),
at=seq(70,90,5),
cex.axis=1.5)
text(2, 85, "女性", cex=2)
text(4, 80, "男性", cex=2)
matpoints(t(LE[c(25,25+47),]) , type="l",
col=rgb(0,0,1, alpha=0.7),
lty=rep(1,47), lwd=3)
matpoints(t(LE[c(20,20+47),]) , type="l",
col=rgb(1,0,0, alpha=0.7),
lty=rep(2,2), lwd=1)
legend("bottomright", c("滋賀", "長野", "その他"), lty=c(1,2,1), col=c("blue","red", "gray"),lwd=c(2,2,2), cex=1.5)
text(c(1,2,3,4,5,6,7,8),
c(71.51, 75.34, 76.36, 77.13, 78.19,  79.6, 80.58, 81.78)-1,
c("22位", "11位", "12位", "12位", "6位","2位","2位","1位") ,
cex=1.5)
text(c(1,2,3,4,5,6,7,8),
c(76.47, 80.63, 81.88,  83.2, 84.92, 86.17, 86.69, 87.57)-0.5,
c("37位",  "30位",  "37位",  "30位",  "15位",  "12位",  "12位",   "4位"),
cex=1.5)
title(main="滋賀県の平均寿命順位推移", cex.main=2)
legend("bottomright", c("滋賀", "長野", "その他(45都道府県)"), lty=c(1,2,1), col=c("blue","red", "gray"),lwd=c(2,2,2), cex=1.5)
#----- plot 開始--------------------
pdf("aa.pdf", family = "Japan1")
matplot(t(LE) ,  xlab="", ylab="", type="n", axes=F, xlim=c(0.5, 8.5))
matpoints(t(LE) ,  xlab="", ylab="", type="l",
col=rgb(26/255,26/255,26/255, alpha=0.05),
lty=rep(1,47),
lwd=3)
axis(side=1,
labels=c("1975年", "1985年", "1990年", "1995年", "2000年", "2005年", "2010年", "2015年"),
at=1:8,
las=3,
cex.axis = 1.5)
axis(side=2,
labels=c("70歳", "75歳", "80歳", "85歳", "90歳"),
at=seq(70,90,5),
cex.axis=1.5)
text(2, 85, "女性", cex=2)
text(4, 80, "男性", cex=2)
# 滋賀県
matpoints(t(LE[c(25,25+47),]) , type="l",
col=rgb(0,0,1, alpha=0.7),
lty=rep(1,47), lwd=3)
# 長野県
matpoints(t(LE[c(20,20+47),]) , type="l",
col=rgb(1,0,0, alpha=0.7),
lty=rep(2,2), lwd=1)
legend("bottomright", c("滋賀", "長野", "その他(45都道府県)"), lty=c(1,2,1), col=c("blue","red", "gray"),lwd=c(2,2,2), cex=1.5)
text(c(1,2,3,4,5,6,7,8),
c(71.51, 75.34, 76.36, 77.13, 78.19,  79.6, 80.58, 81.78)-1,
c("22位", "11位", "12位", "12位", "6位","2位","2位","1位") ,
cex=1.5)
text(c(1,2,3,4,5,6,7,8),
c(76.47, 80.63, 81.88,  83.2, 84.92, 86.17, 86.69, 87.57)-0.5,
c("37位",  "30位",  "37位",  "30位",  "15位",  "12位",  "12位",   "4位"),
cex=1.5)
title(main="滋賀県の平均寿命順位推移", cex.main=2)
dev.off()
# data import
library(readxl)
d<-read_excel("./data1.xlsx",1); d<-d[-95,] #男女データ
f<-d[d$sex==0,];m<-d[d$sex==1,] # 男女別分けデータ
LE<-d[, c("LE.75","LE.85","LE.90","LE.95","LE.00","LE.05","LE.10","LE.15")]
tt<-Wakayama::pref %>% bind_rows(Wakayama::pref) %>% bind_cols(LE) %>% tbl_df()
library(tidyverse)
# data import
library(readxl)
d<-read_excel("./data1.xlsx",1); d<-d[-95,] #男女データ
f<-d[d$sex==0,];m<-d[d$sex==1,] # 男女別分けデータ
LE<-d[, c("LE.75","LE.85","LE.90","LE.95","LE.00","LE.05","LE.10","LE.15")]
tt<-Wakayama::pref %>% bind_rows(Wakayama::pref) %>% bind_cols(LE) %>% tbl_df()
